<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Slider Notes</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    overflow: hidden; /* Hide scrollbar */
  }
  .container-fluid {
    padding-top: 0px;
    display: flex;
  }
  .sidebar {
    /* flex: 0; */
    width: 25%;
    padding-top: 100px;
    background-color: #9ccff0;
    /* border-left: 1px solid #ddd; */
    display: block; /* Initially display the sidebar */
    justify-content: center;

  }
  .swiper-container {
    flex: 1;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .swiper-slide {
    padding-top: 15px;
    padding-bottom: 100px;
    text-align: center;
    font-size: 18px;
    background: #9ccff0;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .swiper-slide img {
    height: auto;
    max-width: 100%;
    max-height: 100%;
    pointer-events: none; /* Disable mouse events on images */
  }
  /* Media query for smaller devices (such as phones) */
  @media (max-width: 767px) {
    .sidebar {
      display: none; /* Hide the sidebar on mobile devices */
    }
  }
</style>
</head>
<body>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  
  <!-- <nav class="navbar fixed-top navbar-dark bg-dark">  -->
  <nav class="navbar fixed-top navbar-expand-lg bg-body-tertiary"> 
    <div class="container-fluid">
      <a class="navbar-brand" href="http://localhost:5500/index.html">Operating System</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Dropdown
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" aria-disabled="true">Disabled</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- <div class="container-fluid">
    <div class="sidebar"> -->
      <!-- Sidebar content goes here
      <ul class="list-group">
        <li class="list-group-item">An item</li>
        <li class="list-group-item">A second item</li>
        <li class="list-group-item">A third item</li>
        <li class="list-group-item">A fourth item</li>
        <li class="list-group-item">And a fifth one</li>
      </ul>
    </div> -->
    <div class="swiper-container mySwiper">
      <div class="swiper-wrapper">
        <!-- Swiper slides will be dynamically added here -->
      </div>
      <!-- <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-pagination"></div> -->
    </div>
  <!-- </div> -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const apiUrl = 'list'; // Adjust the URL as per your API endpoint

    fetchImages(apiUrl);

    function fetchImages(apiUrl) {
      fetch(apiUrl)
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.json();
        })
        .then(data => {
          const files = data.files;
          renderImages(files);
        })
        .catch(error => {
          console.error('Error fetching images:', error);
        });
    }

    function renderImages(files) {
      var mySwiper = new Swiper(".mySwiper", {
        direction: "vertical",
        zoom: true,
        loop: true,
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
      });

      // Shuffle the array of files
      shuffle(files);

      files.forEach(file => {
        const fileUrl = `/images/standard1/maths/${file}`;
        const extension = file.split('.').pop().toLowerCase();

        const swiperSlide = document.createElement('div');
        swiperSlide.classList.add('swiper-slide');

        if (extension === 'txt') {
          fetch(fileUrl)
            .then(response => response.text())
            .then(text => {
              // swiperSlide.innerHTML = `<div class="text-content">${text}</div>`;
              swiperSlide.innerHTML = `<div class="text-content">${text}</div>`;
              document.querySelector('.swiper-wrapper').appendChild(swiperSlide);
              mySwiper.update(); // Update Swiper after adding a new slide
            })
            .catch(error => {
              console.error('Error fetching text file:', error);
            });
        } else {
          swiperSlide.innerHTML = `<div class="swiper-zoom-container"><img src="${fileUrl}" alt="Image"></div>`;
          document.querySelector('.swiper-wrapper').appendChild(swiperSlide);
          mySwiper.update(); // Update Swiper after adding a new slide
        }
      });
    }

    // Function to shuffle array
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }
  });
</script>
</body>
</html>
